# Mochi-Link (å¤§ç¦è¿) - é¡¹ç›®ä»‹ç»ä¸éƒ¨ç½²æŒ‡å—

[![npm](https://img.shields.io/npm/v/koishi-plugin-mochi-link)](https://www.npmjs.com/package/koishi-plugin-mochi-link)
[![License](https://img.shields.io/github/license/your-org/koishi-plugin-mochi-link)](https://github.com/your-org/koishi-plugin-mochi-link/blob/main/LICENSE)
[![Build Status](https://img.shields.io/github/workflow/status/your-org/koishi-plugin-mochi-link/CI)](https://github.com/your-org/koishi-plugin-mochi-link/actions)

## ğŸ“– é¡¹ç›®ç®€ä»‹

Mochi-Linkï¼ˆå¤§ç¦è¿ï¼‰æ˜¯ä¸€ä¸ªåŸºäº Koishi æ¡†æ¶çš„ **Minecraft ç»Ÿä¸€ç®¡ç†ä¸ç›‘æ§ç³»ç»Ÿ**ã€‚å¦‚åŒå¤§ç¦ï¼ˆéº»è–¯ï¼‰ä¸€æ ·å…·æœ‰æå¼ºçš„é»æ€§å’ŒåŒ…å®¹æ€§ï¼ŒæŠŠå„ç§æ ¸å¿ƒï¼ˆLLBDSã€Paperã€Folia ç­‰ï¼‰è½¯ç³¯åœ°åŒ…è£¹åœ¨ä¸€èµ·ï¼Œåˆ›å»ºä¸€ä¸ª"å…¨æ ¸å¿ƒç»Ÿä¸€"çš„ MC æœåŠ¡å™¨ç®¡ç†å±‚ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

#### ğŸŒ è·¨æ ¸å¿ƒç»Ÿä¸€æ¥å£
- **Java ç‰ˆæœåŠ¡å™¨æ”¯æŒ**ï¼šPaperã€Foliaã€Fabricã€Forgeã€Mohistã€Geyser
- **åŸºå²©ç‰ˆæœåŠ¡å™¨æ”¯æŒ**ï¼šLLBDSã€Nukkitã€PMMPã€BDS
- **ç»Ÿä¸€åè®®**ï¼šé€šè¿‡æ ‡å‡†åŒ–çš„ U-WBP v2 åè®®ç»Ÿä¸€ç®¡ç†ä¸åŒæ ¸å¿ƒ

#### ğŸ”— çµæ´»çš„è¿æ¥æ¶æ„
- **æ­£å‘è¿æ¥**ï¼šKoishi æ’ä»¶ä½œä¸ºå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨
- **åå‘è¿æ¥**ï¼šæœåŠ¡å™¨ä½œä¸ºå®¢æˆ·ç«¯è¿æ¥åˆ° Koishi æ’ä»¶
- **å¤šç§æ¥å…¥æ¨¡å¼**ï¼šæ’ä»¶ã€RCONã€ç»ˆç«¯æ³¨å…¥

#### ğŸ‘¥ å¤šæœåŠ¡å™¨ç®¡ç†
- å•ä¸ª Koishi å®ä¾‹ç®¡ç†å¤šå° MC æœåŠ¡å™¨
- ç¾¤èŠä¸æœåŠ¡å™¨çš„å¤šå¯¹å¤šç»‘å®šå…³ç³»
- åŸºäºæœåŠ¡å™¨ ID çš„æƒé™åˆ†ç¦»æ§åˆ¶

#### ğŸ›¡ï¸ å®Œå–„çš„å®‰å…¨æœºåˆ¶
- API ä»¤ç‰Œè®¤è¯å’Œ IP ç™½åå•
- å¯é€‰çš„ AES/RSA é€šä¿¡åŠ å¯†
- åŸºäºè§’è‰²çš„æƒé™ç®¡ç†ç³»ç»Ÿ
- å®Œæ•´çš„å®¡è®¡æ—¥å¿—è®°å½•

#### ğŸ“Š å®æ—¶ç›‘æ§æ¨é€
- **ç©å®¶äº‹ä»¶**ï¼šåŠ å…¥ã€ç¦»å¼€ã€èŠå¤©ã€æ­»äº¡ã€æˆå°±
- **æœåŠ¡å™¨çŠ¶æ€**ï¼šåœ¨çº¿çŠ¶æ€ã€TPSã€å†…å­˜ä½¿ç”¨
- **æ€§èƒ½å‘Šè­¦**ï¼šTPS è¿‡ä½ã€å†…å­˜è¿‡é«˜ã€ç©å®¶æ´ªæ°´æ”»å‡»

#### ğŸ® ç»Ÿä¸€ç©å®¶ç®¡ç†
- è·¨æœåŠ¡å™¨ç©å®¶ä¿¡æ¯èšåˆ
- éæ­£ç‰ˆç©å®¶èº«ä»½è¯†åˆ«
- ç»Ÿä¸€çš„é»‘ç™½åå•å’Œå°ç¦ç³»ç»Ÿ
- ç¦»çº¿æ“ä½œç¼“å­˜å’ŒåŒæ­¥

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¤–éƒ¨ç®¡ç†ç³»ç»Ÿ   â”‚    â”‚   Web ç®¡ç†é¢æ¿   â”‚    â”‚   Koishi æœºå™¨äºº  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Mochi-Link æ’ä»¶      â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                    â”‚  â”‚ HTTP APIâ”‚WebSocketâ”‚   â”‚
                    â”‚  â”‚ Server  â”‚ Server  â”‚   â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚   Core Services     â”‚ â”‚
                    â”‚  â”‚ - Protocol Handler  â”‚ â”‚
                    â”‚  â”‚ - Connection Mgr    â”‚ â”‚
                    â”‚  â”‚ - Permission Mgr    â”‚ â”‚
                    â”‚  â”‚ - Data Synchronizer â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚   Koishi Database   â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Connector Bridges     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Java æœåŠ¡å™¨   â”‚        â”‚   åŸºå²©ç‰ˆæœåŠ¡å™¨   â”‚       â”‚   å…¶ä»–æ ¸å¿ƒæœåŠ¡å™¨  â”‚
â”‚ Paper/Folia   â”‚        â”‚  LLBDS/PMMP    â”‚       â”‚ Fabric/Forge    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**ï¼šKoishi v4.15+
- **å¼€å‘è¯­è¨€**ï¼šTypeScript 5.0+
- **æ•°æ®åº“**ï¼šæ”¯æŒ Koishi æ‰€æœ‰æ•°æ®åº“é€‚é…å™¨
- **é€šä¿¡åè®®**ï¼šWebSocket (U-WBP v2)ã€HTTP REST API
- **æµ‹è¯•æ¡†æ¶**ï¼šJest + fast-check (å±æ€§æµ‹è¯•)
- **æ„å»ºå·¥å…·**ï¼šTypeScript Compiler
- **éƒ¨ç½²å·¥å…·**ï¼šPM2ã€Docker (å¯é€‰)

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚
- **Node.js**: 16.0+ (æ¨è 18.0+)
- **å†…å­˜**: 512MB RAM (æ¨è 2GB+)
- **å­˜å‚¨**: 100MB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: æ”¯æŒ WebSocket è¿æ¥

### æ¨èé…ç½®
- **Node.js**: 18.0+ LTS
- **å†…å­˜**: 4GB+ RAM
- **å­˜å‚¨**: 1GB+ å¯ç”¨ç©ºé—´
- **CPU**: 2+ æ ¸å¿ƒ
- **ç½‘ç»œ**: ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼Œä½å»¶è¿Ÿ

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ
- **Linux**: Ubuntu 18.04+, CentOS 7+, Debian 9+
- **Windows**: Windows 10+, Windows Server 2016+
- **macOS**: macOS 10.15+

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

#### å®‰è£… Node.js
```bash
# Ubuntu/Debian
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# CentOS/RHEL
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs

# Windows (ä½¿ç”¨ Chocolatey)
choco install nodejs

# macOS (ä½¿ç”¨ Homebrew)
brew install node
```

#### éªŒè¯å®‰è£…
```bash
node --version  # åº”æ˜¾ç¤º v16.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
npm --version   # åº”æ˜¾ç¤º npm ç‰ˆæœ¬
```

### 2. é¡¹ç›®å®‰è£…

#### æ–¹å¼ä¸€ï¼šNPM å®‰è£… (æ¨è)
```bash
# åœ¨ Koishi é¡¹ç›®ä¸­å®‰è£…
npm install koishi-plugin-mochi-link

# æˆ–ä½¿ç”¨ yarn
yarn add koishi-plugin-mochi-link
```

#### æ–¹å¼äºŒï¼šæºç å®‰è£…
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/koishi-plugin-mochi-link.git
cd koishi-plugin-mochi-link

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build
```

### 3. åŸºç¡€é…ç½®

#### Koishi é…ç½®æ–‡ä»¶ (koishi.yml)
```yaml
plugins:
  mochi-link:
    # WebSocket æœåŠ¡é…ç½®
    websocket:
      port: 8080
      host: "0.0.0.0"
    
    # HTTP API é…ç½®
    http:
      port: 8081
      host: "0.0.0.0"
      cors: true
    
    # æ•°æ®åº“é…ç½®
    database:
      prefix: "mochi_"
    
    # å®‰å…¨é…ç½®
    security:
      tokenExpiry: 86400  # 24å°æ—¶
      maxConnections: 100
    
    # ç›‘æ§é…ç½®
    monitoring:
      reportInterval: 30
      historyRetention: 7

# æ•°æ®åº“é…ç½® (å¿…éœ€)
database:
  # SQLite (å¼€å‘ç¯å¢ƒ)
  sqlite:
    path: "./data/database.db"
  
  # æˆ– MySQL (ç”Ÿäº§ç¯å¢ƒ)
  # mysql:
  #   host: "localhost"
  #   port: 3306
  #   user: "koishi"
  #   password: "your_password"
  #   database: "koishi"
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start

# æˆ–ä½¿ç”¨ Koishi CLI
koishi start
```

## ğŸ“¦ å®Œæ•´éƒ¨ç½²æŒ‡å—

### éƒ¨ç½²ç¯å¢ƒè¯´æ˜

ç³»ç»Ÿæ”¯æŒä¸‰ç§éƒ¨ç½²ç¯å¢ƒï¼š

- **development**: å¼€å‘ç¯å¢ƒï¼Œç”¨äºæœ¬åœ°å¼€å‘å’Œæµ‹è¯•
- **staging**: é¢„å‘å¸ƒç¯å¢ƒï¼Œç”¨äºæµ‹è¯•å’ŒéªŒè¯
- **production**: ç”Ÿäº§ç¯å¢ƒï¼Œç”¨äºæ­£å¼éƒ¨ç½²

### è‡ªåŠ¨åŒ–éƒ¨ç½²

é¡¹ç›®æä¾›äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒç¯å¢ƒæ£€æµ‹ã€é…ç½®ç”Ÿæˆã€æ„å»ºå’Œå¯åŠ¨ã€‚

#### 1. åˆå§‹åŒ–éƒ¨ç½²ç¯å¢ƒ

```bash
# è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå¹¶åˆå§‹åŒ–
npm run deploy:init

# æˆ–æŒ‡å®šç‰¹å®šç¯å¢ƒ
npm run deploy:init:dev      # å¼€å‘ç¯å¢ƒ
npm run deploy:init:staging  # é¢„å‘å¸ƒç¯å¢ƒ
npm run deploy:init:prod     # ç”Ÿäº§ç¯å¢ƒ
```

åˆå§‹åŒ–è¿‡ç¨‹ä¼šï¼š
- æ£€æŸ¥ç³»ç»Ÿè¦æ±‚ï¼ˆNode.js ç‰ˆæœ¬ã€ä¾èµ–ç­‰ï¼‰
- ç”Ÿæˆç¯å¢ƒç‰¹å®šçš„é…ç½®æ–‡ä»¶
- åˆ›å»ºå¯åŠ¨è„šæœ¬å’Œ PM2 é…ç½®
- éªŒè¯ç¯å¢ƒå˜é‡

#### 2. æ„å»ºé¡¹ç›®

```bash
# æ„å»ºå¹¶è¿è¡Œæµ‹è¯•
npm run deploy:build
```

æ„å»ºè¿‡ç¨‹åŒ…æ‹¬ï¼š
- æ¸…ç†ä¹‹å‰çš„æ„å»ºæ–‡ä»¶
- TypeScript ç¼–è¯‘
- è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼ˆ678+ æµ‹è¯•ï¼‰
- ç”Ÿæˆç”Ÿäº§å°±ç»ªçš„ä»£ç 

#### 3. éªŒè¯é…ç½®

```bash
# éªŒè¯å½“å‰ç¯å¢ƒé…ç½®
npm run deploy:validate

# æˆ–éªŒè¯ç‰¹å®šç¯å¢ƒ
node scripts/deploy.js validate production
```

#### 4. å¯åŠ¨åº”ç”¨

```bash
# å¯åŠ¨åº”ç”¨
npm run deploy:start

# æˆ–ä½¿ç”¨è„šæœ¬
node scripts/deploy.js start production
```

#### 5. ç®¡ç†åº”ç”¨

```bash
# æ£€æŸ¥çŠ¶æ€
npm run deploy:status

# åœæ­¢åº”ç”¨
npm run deploy:stop
```

### æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

#### 1. æœåŠ¡å™¨å‡†å¤‡

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…å¿…è¦è½¯ä»¶
sudo apt install -y curl wget git build-essential

# å®‰è£… Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£… PM2 (ç”Ÿäº§ç¯å¢ƒè¿›ç¨‹ç®¡ç†)
sudo npm install -g pm2

# åˆ›å»ºåº”ç”¨ç”¨æˆ·
sudo useradd -m -s /bin/bash mochi
sudo usermod -aG sudo mochi
```

#### 2. é¡¹ç›®éƒ¨ç½²

```bash
# åˆ‡æ¢åˆ°åº”ç”¨ç”¨æˆ·
sudo su - mochi

# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/koishi-plugin-mochi-link.git
cd koishi-plugin-mochi-link

# å®‰è£…ä¾èµ–
npm ci --production

# æ„å»ºé¡¹ç›®
npm run build
```

#### 3. é…ç½®æ–‡ä»¶è®¾ç½®

```bash
# åˆ›å»ºé…ç½®ç›®å½•
mkdir -p config

# ç”Ÿæˆç”Ÿäº§ç¯å¢ƒé…ç½®
node scripts/deploy.js init production
```

ç¼–è¾‘ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ `config/deployment.json`ï¼š

```json
{
  "environment": "production",
  "version": "1.0.0",
  "services": {
    "websocket": {
      "enabled": true,
      "port": 8080,
      "host": "0.0.0.0",
      "ssl": {
        "enabled": true,
        "certPath": "/etc/ssl/certs/mochi-link.crt",
        "keyPath": "/etc/ssl/private/mochi-link.key"
      }
    },
    "http": {
      "enabled": true,
      "port": 8081,
      "host": "0.0.0.0",
      "cors": false
    }
  },
  "security": {
    "tokenExpiry": 86400,
    "maxConnections": 500,
    "rateLimiting": {
      "enabled": true,
      "windowMs": 60000,
      "maxRequests": 100
    },
    "encryption": {
      "enabled": true,
      "algorithm": "AES-256-GCM"
    }
  }
}
```

#### 4. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# ç¯å¢ƒé…ç½®
NODE_ENV=production
MOCHI_ENV=production

# æœåŠ¡ç«¯å£
MOCHI_WS_PORT=8080
MOCHI_HTTP_PORT=8081

# æ•°æ®åº“é…ç½®
MOCHI_DB_PREFIX=mochi_

# å®‰å…¨é…ç½®
MOCHI_TOKEN_EXPIRY=86400
MOCHI_MAX_CONNECTIONS=500

# æ—¥å¿—é…ç½®
MOCHI_LOG_LEVEL=warn
```

#### 5. SSL è¯ä¹¦é…ç½® (HTTPS/WSS)

```bash
# ä½¿ç”¨ Let's Encrypt è·å–å…è´¹è¯ä¹¦
sudo apt install -y certbot

# è·å–è¯ä¹¦ (æ›¿æ¢ your-domain.com)
sudo certbot certonly --standalone -d your-domain.com

# å¤åˆ¶è¯ä¹¦åˆ°åº”ç”¨ç›®å½•
sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem /etc/ssl/certs/mochi-link.crt
sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem /etc/ssl/private/mochi-link.key

# è®¾ç½®æƒé™
sudo chown mochi:mochi /etc/ssl/certs/mochi-link.crt
sudo chown mochi:mochi /etc/ssl/private/mochi-link.key
sudo chmod 600 /etc/ssl/private/mochi-link.key
```

#### 6. æ•°æ®åº“é…ç½®

##### SQLite (ç®€å•éƒ¨ç½²)
```bash
# åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p data
chmod 755 data
```

##### MySQL (æ¨èç”Ÿäº§ç¯å¢ƒ)
```bash
# å®‰è£… MySQL
sudo apt install -y mysql-server

# å®‰å…¨é…ç½®
sudo mysql_secure_installation

# åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
sudo mysql -u root -p
```

```sql
CREATE DATABASE koishi CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'mochi'@'localhost' IDENTIFIED BY 'secure_password_here';
GRANT ALL PRIVILEGES ON koishi.* TO 'mochi'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

#### 7. é˜²ç«å¢™é…ç½®

```bash
# å¯ç”¨ UFW é˜²ç«å¢™
sudo ufw enable

# å…è®¸ SSH
sudo ufw allow ssh

# å…è®¸åº”ç”¨ç«¯å£
sudo ufw allow 8080/tcp  # WebSocket
sudo ufw allow 8081/tcp  # HTTP API

# å…è®¸ HTTPS (å¦‚æœä½¿ç”¨åå‘ä»£ç†)
sudo ufw allow 443/tcp
sudo ufw allow 80/tcp

# æ£€æŸ¥çŠ¶æ€
sudo ufw status
```

#### 8. å¯åŠ¨åº”ç”¨

```bash
# ä½¿ç”¨ PM2 å¯åŠ¨
pm2 start ecosystem.config.js --env production

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# æ£€æŸ¥çŠ¶æ€
pm2 status
pm2 logs mochi-link
```

### Docker éƒ¨ç½²

#### 1. Dockerfile

```dockerfile
FROM node:18-alpine

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ package æ–‡ä»¶
COPY package*.json ./

# å®‰è£…ä¾èµ–
RUN npm ci --only=production

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºé¡¹ç›®
RUN npm run build

# åˆ›å»ºé root ç”¨æˆ·
RUN addgroup -g 1001 -S nodejs
RUN adduser -S mochi -u 1001

# è®¾ç½®æƒé™
RUN chown -R mochi:nodejs /app
USER mochi

# æš´éœ²ç«¯å£
EXPOSE 8080 8081

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD curl -f http://localhost:8081/health || exit 1

# å¯åŠ¨å‘½ä»¤
CMD ["npm", "start"]
```

#### 2. docker-compose.yml

```yaml
version: '3.8'

services:
  mochi-link:
    build: .
    container_name: mochi-link
    restart: unless-stopped
    ports:
      - "8080:8080"  # WebSocket
      - "8081:8081"  # HTTP API
    environment:
      - NODE_ENV=production
      - MOCHI_ENV=production
      - MOCHI_WS_PORT=8080
      - MOCHI_HTTP_PORT=8081
      - MOCHI_DB_PREFIX=mochi_
      - MOCHI_LOG_LEVEL=info
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
      - ./config:/app/config
    depends_on:
      - mysql
    networks:
      - mochi-network

  mysql:
    image: mysql:8.0
    container_name: mochi-mysql
    restart: unless-stopped
    environment:
      - MYSQL_ROOT_PASSWORD=root_password_here
      - MYSQL_DATABASE=koishi
      - MYSQL_USER=mochi
      - MYSQL_PASSWORD=mochi_password_here
    volumes:
      - mysql_data:/var/lib/mysql
    networks:
      - mochi-network

  nginx:
    image: nginx:alpine
    container_name: mochi-nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/ssl/certs
    depends_on:
      - mochi-link
    networks:
      - mochi-network

volumes:
  mysql_data:

networks:
  mochi-network:
    driver: bridge
```

#### 3. å¯åŠ¨ Docker éƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f mochi-link

# åœæ­¢æœåŠ¡
docker-compose down
```

### åå‘ä»£ç†é…ç½® (Nginx)

#### nginx.conf

```nginx
events {
    worker_connections 1024;
}

http {
    upstream mochi_http {
        server mochi-link:8081;
    }
    
    upstream mochi_ws {
        server mochi-link:8080;
    }

    # HTTP API ä»£ç†
    server {
        listen 80;
        server_name your-domain.com;
        
        # é‡å®šå‘åˆ° HTTPS
        return 301 https://$server_name$request_uri;
    }

    # HTTPS API ä»£ç†
    server {
        listen 443 ssl http2;
        server_name your-domain.com;

        ssl_certificate /etc/ssl/certs/mochi-link.crt;
        ssl_certificate_key /etc/ssl/private/mochi-link.key;
        
        # SSL é…ç½®
        ssl_protocols TLSv1.2 TLSv1.3;
        ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;
        ssl_prefer_server_ciphers off;

        # API è·¯ç”±
        location /api/ {
            proxy_pass http://mochi_http;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        # WebSocket ä»£ç†
        location /ws {
            proxy_pass http://mochi_ws;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_read_timeout 86400;
        }

        # å¥åº·æ£€æŸ¥
        location /health {
            proxy_pass http://mochi_http;
            access_log off;
        }
    }
}
```

## ğŸ”§ é…ç½®è¯¦è§£

### ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | æè¿° | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|--------|------|--------|------|
| `NODE_ENV` | Node.js ç¯å¢ƒ | `development` | `production` |
| `MOCHI_ENV` | Mochi-Link ç¯å¢ƒ | `development` | `production` |
| `MOCHI_WS_PORT` | WebSocket ç«¯å£ | `8080` | `8080` |
| `MOCHI_HTTP_PORT` | HTTP API ç«¯å£ | `8081` | `8081` |
| `MOCHI_DB_PREFIX` | æ•°æ®åº“è¡¨å‰ç¼€ | `mochi_` | `mochi_prod_` |
| `MOCHI_TOKEN_EXPIRY` | ä»¤ç‰Œè¿‡æœŸæ—¶é—´(ç§’) | `86400` | `86400` |
| `MOCHI_MAX_CONNECTIONS` | æœ€å¤§è¿æ¥æ•° | `100` | `500` |
| `MOCHI_LOG_LEVEL` | æ—¥å¿—çº§åˆ« | `info` | `warn` |

### é…ç½®æ–‡ä»¶ç»“æ„

#### deployment.json é…ç½®è¯´æ˜

```json
{
  "environment": "production",           // ç¯å¢ƒç±»å‹
  "version": "1.0.0",                   // ç‰ˆæœ¬å·
  "buildTime": "2024-01-01T00:00:00Z",  // æ„å»ºæ—¶é—´
  
  "services": {
    "websocket": {
      "enabled": true,                   // å¯ç”¨ WebSocket æœåŠ¡
      "port": 8080,                     // WebSocket ç«¯å£
      "host": "0.0.0.0",               // ç»‘å®šåœ°å€
      "ssl": {
        "enabled": true,                // å¯ç”¨ SSL/TLS
        "certPath": "/path/to/cert",    // è¯ä¹¦è·¯å¾„
        "keyPath": "/path/to/key"       // ç§é’¥è·¯å¾„
      }
    },
    "http": {
      "enabled": true,                  // å¯ç”¨ HTTP API
      "port": 8081,                    // HTTP ç«¯å£
      "host": "0.0.0.0",              // ç»‘å®šåœ°å€
      "cors": false                    // CORS æ”¯æŒ
    },
    "database": {
      "prefix": "mochi_",              // è¡¨å‰ç¼€
      "connectionTimeout": 30000,      // è¿æ¥è¶…æ—¶
      "queryTimeout": 15000            // æŸ¥è¯¢è¶…æ—¶
    }
  },
  
  "security": {
    "tokenExpiry": 86400,              // ä»¤ç‰Œè¿‡æœŸæ—¶é—´
    "maxConnections": 500,             // æœ€å¤§è¿æ¥æ•°
    "rateLimiting": {
      "enabled": true,                 // å¯ç”¨é€Ÿç‡é™åˆ¶
      "windowMs": 60000,              // æ—¶é—´çª—å£
      "maxRequests": 100              // æœ€å¤§è¯·æ±‚æ•°
    },
    "encryption": {
      "enabled": true,                 // å¯ç”¨åŠ å¯†
      "algorithm": "AES-256-GCM"      // åŠ å¯†ç®—æ³•
    }
  },
  
  "monitoring": {
    "enabled": true,                   // å¯ç”¨ç›‘æ§
    "reportInterval": 30,              // æŠ¥å‘Šé—´éš”(ç§’)
    "historyRetention": 90,            // å†å²ä¿ç•™(å¤©)
    "healthCheck": {
      "interval": 30000,               // å¥åº·æ£€æŸ¥é—´éš”
      "timeout": 5000                  // æ£€æŸ¥è¶…æ—¶
    },
    "metrics": {
      "enabled": true,                 // å¯ç”¨æŒ‡æ ‡æ”¶é›†
      "interval": 60000,               // æ”¶é›†é—´éš”
      "retention": 90                  // ä¿ç•™å¤©æ•°
    }
  },
  
  "logging": {
    "level": "warn",                   // æ—¥å¿—çº§åˆ«
    "auditRetention": 365,             // å®¡è®¡æ—¥å¿—ä¿ç•™(å¤©)
    "fileLogging": {
      "enabled": true,                 // å¯ç”¨æ–‡ä»¶æ—¥å¿—
      "path": "/var/log/mochi-link",   // æ—¥å¿—è·¯å¾„
      "maxSize": "500MB",              // æœ€å¤§æ–‡ä»¶å¤§å°
      "maxFiles": 20                   // æœ€å¤§æ–‡ä»¶æ•°
    }
  },
  
  "performance": {
    "caching": {
      "enabled": true,                 // å¯ç”¨ç¼“å­˜
      "maxSize": 1000,                // æœ€å¤§ç¼“å­˜æ¡ç›®
      "ttl": 1800                     // ç”Ÿå­˜æ—¶é—´(ç§’)
    },
    "connectionPool": {
      "enabled": true,                 // å¯ç”¨è¿æ¥æ± 
      "minConnections": 5,             // æœ€å°è¿æ¥æ•°
      "maxConnections": 50,            // æœ€å¤§è¿æ¥æ•°
      "idleTimeout": 300000            // ç©ºé—²è¶…æ—¶
    },
    "optimization": {
      "enabled": true,                 // å¯ç”¨ä¼˜åŒ–
      "queryCache": true,              // æŸ¥è¯¢ç¼“å­˜
      "compression": true              // å¯ç”¨å‹ç¼©
    }
  }
}
```

## ğŸ” ç›‘æ§ä¸ç»´æŠ¤

### å¥åº·æ£€æŸ¥

ç³»ç»Ÿæä¾›å¤šå±‚æ¬¡çš„å¥åº·æ£€æŸ¥ï¼š

#### 1. HTTP å¥åº·æ£€æŸ¥ç«¯ç‚¹

```bash
# åŸºç¡€å¥åº·æ£€æŸ¥
curl http://localhost:8081/health

# è¯¦ç»†å¥åº·ä¿¡æ¯
curl http://localhost:8081/health/detailed

# ç³»ç»ŸæŒ‡æ ‡
curl http://localhost:8081/metrics
```

#### 2. ç³»ç»Ÿç›‘æ§æŒ‡æ ‡

- **ç³»ç»Ÿèµ„æº**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **æœåŠ¡çŠ¶æ€**ï¼šWebSocketã€HTTPã€æ•°æ®åº“è¿æ¥çŠ¶æ€
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå“åº”æ—¶é—´ã€ååé‡ã€é”™è¯¯ç‡
- **ä¸šåŠ¡æŒ‡æ ‡**ï¼šè¿æ¥æœåŠ¡å™¨æ•°ã€æ´»è·ƒç”¨æˆ·æ•°ã€å‘½ä»¤æ‰§è¡Œæ¬¡æ•°

#### 3. æ—¥å¿—ç›‘æ§

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs mochi-link

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs mochi-link --err

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µæ—¥å¿—
pm2 logs mochi-link --lines 100
```

### æ€§èƒ½ä¼˜åŒ–

#### 1. æ•°æ®åº“ä¼˜åŒ–

```sql
-- åˆ›å»ºç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
CREATE INDEX idx_servers_owner ON minecraft_servers(owner_id);
CREATE INDEX idx_audit_timestamp ON audit_logs(timestamp);
CREATE INDEX idx_tokens_server ON api_tokens(server_id);
```

#### 2. ç¼“å­˜é…ç½®

```json
{
  "performance": {
    "caching": {
      "enabled": true,
      "maxSize": 1000,        // æ ¹æ®å†…å­˜è°ƒæ•´
      "ttl": 1800            // 30åˆ†é’Ÿç¼“å­˜
    }
  }
}
```

#### 3. è¿æ¥æ± ä¼˜åŒ–

```json
{
  "performance": {
    "connectionPool": {
      "enabled": true,
      "minConnections": 5,    // æœ€å°è¿æ¥æ•°
      "maxConnections": 50,   // æ ¹æ®è´Ÿè½½è°ƒæ•´
      "idleTimeout": 300000   // 5åˆ†é’Ÿç©ºé—²è¶…æ—¶
    }
  }
}
```

### å¤‡ä»½ç­–ç•¥

#### 1. æ•°æ®åº“å¤‡ä»½

```bash
# MySQL å¤‡ä»½è„šæœ¬
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/backup/mysql"
DB_NAME="koishi"

mkdir -p $BACKUP_DIR

# åˆ›å»ºå¤‡ä»½
mysqldump -u mochi -p$MYSQL_PASSWORD $DB_NAME > $BACKUP_DIR/mochi_backup_$DATE.sql

# å‹ç¼©å¤‡ä»½
gzip $BACKUP_DIR/mochi_backup_$DATE.sql

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete
```

#### 2. é…ç½®æ–‡ä»¶å¤‡ä»½

```bash
# é…ç½®å¤‡ä»½è„šæœ¬
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/backup/config"
APP_DIR="/home/mochi/koishi-plugin-mochi-link"

mkdir -p $BACKUP_DIR

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf $BACKUP_DIR/config_backup_$DATE.tar.gz \
  $APP_DIR/config/ \
  $APP_DIR/ecosystem.config.js \
  $APP_DIR/.env

# åˆ é™¤30å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete
```

#### 3. è‡ªåŠ¨å¤‡ä»½è®¾ç½®

```bash
# æ·»åŠ åˆ° crontab
crontab -e

# æ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½æ•°æ®åº“
0 2 * * * /home/mochi/scripts/backup_database.sh

# æ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹å¤‡ä»½é…ç½®
0 3 * * 0 /home/mochi/scripts/backup_config.sh
```

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

##### 1. æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep :8080
netstat -tlnp | grep :8081

# æ£€æŸ¥æ—¥å¿—
pm2 logs mochi-link --lines 50

# æ£€æŸ¥é…ç½®æ–‡ä»¶
node scripts/deploy.js validate
```

##### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€
sudo systemctl status mysql

# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u mochi -p -h localhost koishi

# æ£€æŸ¥æ•°æ®åº“é…ç½®
cat config/deployment.json | grep -A 10 "database"
```

##### 3. WebSocket è¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
sudo ufw status

# æµ‹è¯• WebSocket è¿æ¥
wscat -c ws://localhost:8080

# æ£€æŸ¥ SSL è¯ä¹¦ (å¦‚æœå¯ç”¨)
openssl x509 -in /etc/ssl/certs/mochi-link.crt -text -noout
```

##### 4. æ€§èƒ½é—®é¢˜

```bash
# æ£€æŸ¥ç³»ç»Ÿèµ„æº
htop
df -h
free -h

# æ£€æŸ¥åº”ç”¨æ€§èƒ½
pm2 monit

# åˆ†ææ…¢æŸ¥è¯¢ (MySQL)
mysql -u root -p -e "SHOW PROCESSLIST;"
```

### å®‰å…¨ç»´æŠ¤

#### 1. å®šæœŸå®‰å…¨æ›´æ–°

```bash
# æ›´æ–°ç³»ç»ŸåŒ…
sudo apt update && sudo apt upgrade -y

# æ›´æ–° Node.js ä¾èµ–
npm audit
npm audit fix

# æ›´æ–° PM2
sudo npm update -g pm2
```

#### 2. è¯ä¹¦æ›´æ–°

```bash
# æ›´æ–° Let's Encrypt è¯ä¹¦
sudo certbot renew

# é‡å¯æœåŠ¡ä»¥åŠ è½½æ–°è¯ä¹¦
pm2 restart mochi-link
```

#### 3. å®‰å…¨å®¡è®¡

```bash
# æ£€æŸ¥å¼€æ”¾ç«¯å£
nmap localhost

# æ£€æŸ¥ç™»å½•æ—¥å¿—
sudo tail -f /var/log/auth.log

# æ£€æŸ¥åº”ç”¨è®¿é—®æ—¥å¿—
tail -f /var/log/mochi-link/access.log
```

## ğŸ“š API æ–‡æ¡£

### REST API ç«¯ç‚¹

#### æœåŠ¡å™¨ç®¡ç†

```http
# è·å–æœåŠ¡å™¨åˆ—è¡¨
GET /api/servers
Authorization: Bearer <token>

# æ³¨å†Œæ–°æœåŠ¡å™¨
POST /api/servers
Content-Type: application/json
Authorization: Bearer <token>

{
  "name": "æˆ‘çš„æœåŠ¡å™¨",
  "coreType": "Java",
  "coreName": "Paper",
  "connectionMode": "plugin",
  "connectionConfig": {
    "plugin": {
      "host": "127.0.0.1",
      "port": 25565
    }
  }
}

# è·å–æœåŠ¡å™¨è¯¦æƒ…
GET /api/servers/{serverId}
Authorization: Bearer <token>

# æ›´æ–°æœåŠ¡å™¨é…ç½®
PUT /api/servers/{serverId}
Content-Type: application/json
Authorization: Bearer <token>

# åˆ é™¤æœåŠ¡å™¨
DELETE /api/servers/{serverId}
Authorization: Bearer <token>
```

#### ç©å®¶ç®¡ç†

```http
# è·å–ç©å®¶åˆ—è¡¨
GET /api/servers/{serverId}/players
Authorization: Bearer <token>

# è·å–ç©å®¶è¯¦æƒ…
GET /api/servers/{serverId}/players/{playerId}
Authorization: Bearer <token>

# è¸¢å‡ºç©å®¶
POST /api/servers/{serverId}/players/{playerId}/kick
Content-Type: application/json
Authorization: Bearer <token>

{
  "reason": "è¿åæœåŠ¡å™¨è§„åˆ™"
}
```

#### å‘½ä»¤æ‰§è¡Œ

```http
# æ‰§è¡Œæ§åˆ¶å°å‘½ä»¤
POST /api/servers/{serverId}/commands
Content-Type: application/json
Authorization: Bearer <token>

{
  "command": "list",
  "timeout": 5000
}

# å¿«æ·æ“ä½œ
POST /api/servers/{serverId}/actions
Content-Type: application/json
Authorization: Bearer <token>

{
  "action": "broadcast",
  "params": {
    "message": "æœåŠ¡å™¨å°†åœ¨5åˆ†é’Ÿåé‡å¯"
  }
}
```

### WebSocket API

#### è¿æ¥å»ºç«‹

```javascript
// è¿æ¥åˆ° WebSocket æœåŠ¡å™¨
const ws = new WebSocket('ws://localhost:8080');

// å‘é€è®¤è¯æ¶ˆæ¯
ws.send(JSON.stringify({
  type: 'auth',
  token: 'your-api-token',
  serverId: 'your-server-id'
}));
```

#### æ¶ˆæ¯æ ¼å¼ (U-WBP v2)

```javascript
// è¯·æ±‚æ¶ˆæ¯æ ¼å¼
{
  "type": "request",
  "id": "uuid-string",
  "op": "player.list",
  "data": {},
  "timestamp": 1234567890,
  "serverId": "server-id"
}

// å“åº”æ¶ˆæ¯æ ¼å¼
{
  "type": "response",
  "id": "uuid-string",
  "success": true,
  "data": {
    "players": [...]
  },
  "timestamp": 1234567890,
  "serverId": "server-id"
}

// äº‹ä»¶æ¶ˆæ¯æ ¼å¼
{
  "type": "event",
  "event": "player.join",
  "data": {
    "player": {
      "name": "Steve",
      "uuid": "uuid-string"
    }
  },
  "timestamp": 1234567890,
  "serverId": "server-id"
}
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# è¿è¡Œå±æ€§æµ‹è¯•
npm run test:property

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch
```

### æµ‹è¯•ç»Ÿè®¡

- **æ€»æµ‹è¯•æ•°**: 725+
- **é€šè¿‡ç‡**: 93.5%
- **æµ‹è¯•ç±»å‹**:
  - å•å…ƒæµ‹è¯•: 208 ä¸ª
  - å±æ€§æµ‹è¯•: 4 ä¸ªå±æ€§
  - é›†æˆæµ‹è¯•: 12 ä¸ª
  - ç«¯åˆ°ç«¯æµ‹è¯•: 5 ä¸ªå¥—ä»¶

### æµ‹è¯•è¦†ç›–ç‡

- **è¡Œè¦†ç›–ç‡**: >95%
- **å‡½æ•°è¦†ç›–ç‡**: 100%
- **åˆ†æ”¯è¦†ç›–ç‡**: >90%
- **è¯­å¥è¦†ç›–ç‡**: >95%

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/koishi-plugin-mochi-link.git
cd koishi-plugin-mochi-link

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev

# è¿è¡Œæµ‹è¯•
npm test
```

### ä»£ç è§„èŒƒ

- **TypeScript**: ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- **ESLint**: éµå¾ªé¡¹ç›® ESLint é…ç½®
- **Prettier**: ä»£ç æ ¼å¼åŒ–
- **æµ‹è¯•**: æ–°åŠŸèƒ½å¿…é¡»åŒ…å«æµ‹è¯•
- **æ–‡æ¡£**: æ›´æ–°ç›¸å…³æ–‡æ¡£

### æäº¤æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒä¸å¸®åŠ©

### è·å–å¸®åŠ©

- ğŸ“§ **é‚®ä»¶æ”¯æŒ**: support@example.com
- ğŸ’¬ **QQç¾¤**: 123456789
- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-org/koishi-plugin-mochi-link/issues)
- ğŸ“– **è¯¦ç»†æ–‡æ¡£**: [é¡¹ç›® Wiki](https://github.com/your-org/koishi-plugin-mochi-link/wiki)

### å¸¸è§é—®é¢˜

#### Q: æ”¯æŒå“ªäº› Minecraft ç‰ˆæœ¬ï¼Ÿ
A: æ”¯æŒæ‰€æœ‰ä¸»æµ Minecraft ç‰ˆæœ¬ï¼Œé€šè¿‡ Connector Bridge é€‚é…ä¸åŒæ ¸å¿ƒã€‚

#### Q: å¯ä»¥åŒæ—¶ç®¡ç†å¤šå°‘å°æœåŠ¡å™¨ï¼Ÿ
A: ç†è®ºä¸Šæ— é™åˆ¶ï¼Œå®é™…å–å†³äºæœåŠ¡å™¨æ€§èƒ½ã€‚æ¨èå•å®ä¾‹ç®¡ç† 50-100 å°æœåŠ¡å™¨ã€‚

#### Q: æ˜¯å¦æ”¯æŒé›†ç¾¤éƒ¨ç½²ï¼Ÿ
A: å½“å‰ç‰ˆæœ¬æ”¯æŒå•å®ä¾‹éƒ¨ç½²ï¼Œé›†ç¾¤éƒ¨ç½²åŠŸèƒ½åœ¨å¼€å‘è®¡åˆ’ä¸­ã€‚

#### Q: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ
A: å‚è€ƒéƒ¨ç½²æŒ‡å—ä¸­çš„å¤‡ä»½ç­–ç•¥ç« èŠ‚ï¼Œæä¾›äº†å®Œæ•´çš„å¤‡ä»½æ–¹æ¡ˆã€‚

---

**Mochi-Link (å¤§ç¦è¿)** - è®© Minecraft æœåŠ¡å™¨ç®¡ç†å˜å¾—ç®€å•è€Œç»Ÿä¸€ ğŸ®âœ¨